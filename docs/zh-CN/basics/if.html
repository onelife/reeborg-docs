<!DOCTYPE html>


<html>
  <head>
    <meta charset="utf-8">
    
    <title>16. 只有……（才） &mdash; 和乐跑一起学 Python</title>
    
    <link rel="stylesheet" href="../_static/reeborg.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="和乐跑一起学 Python" href="../index.html" />
    <link rel="up" title="基础教程" href="index.html" />
    <link rel="next" title="17. Finding the right spot" href="at_goal.html" />
    <link rel="prev" title="15. 小结" href="summary2.html" /> 

  <script>
    // intelligent scrolling of the sidebar content
    // copied from the sphinx website
    $(window).scroll(function() {
    var sb = $('.sphinxsidebarwrapper');
    var win = $(window);
    var sbh = sb.height();
    var offset = $('.sphinxsidebar').position()['top'];
    var wintop = win.scrollTop();
    var winbot = wintop + win.innerHeight();
    var curtop = sb.position()['top'];
    var curbot = curtop + sbh;
    // does sidebar fit in window?
    if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
              sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
              sb.css('top', $u.min([winbot - sbh - offset - 20,
                            $(document).height() - sbh - 200]));
          }
        }
    });
    </script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
             <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
             <a href="at_goal.html" title="17. Finding the right spot"
             accesskey="N">next</a> |</li>
        <li class="right" >
             <a href="summary2.html" title="15. 小结"
             accesskey="P">previous</a> |</li>
        <li><a class="logo" href="/index_en.html" class="fake_button">
              <img class="logo"  src="../_static/robot_e.png" alt="Logo"/>
              <span class="logo">Reeborg's World</span>
            </a></li>
        <li><a href="../index.html">和乐跑一起学 Python</a></li>
          <li> &raquo;<a href="index.html" accesskey="U">基础教程</a></li> 
      </ul>
    </div>
  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">16. 只有……（才）</a><ul>
<li><a class="reference internal" href="#python-if">16.1. Python 关键字： <tt class="docutils literal">if（如果）</tt></a></li>
<li><a class="reference internal" href="#if">16.2. <tt class="docutils literal">if</tt> 语句</a></li>
<li><a class="reference internal" href="#id2">16.3. 怎样理解 <tt class="docutils literal">if</tt> 语句</a></li>
<li><a class="reference internal" href="#more-useful-that-you-might-think">16.4. More useful that you might think…</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="summary2.html"
                        title="previous chapter">15. 小结</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="at_goal.html"
                        title="next chapter">17. Finding the right spot</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/basics/if.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
      <div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This document is in the middle of a major revision.
Some sections might be missing text, or have French text
as placeholder.</p>
</div>
          <div class="body">
            
  <div class="section" id="id1">
<h1>16. 只有……（才）<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>只有在乐跑能自己进行判断的时候，写程序才会变得非常轻松…… <strong>等等！</strong> 我不是在告诉你：乐跑可以自己进行判断。</p>
<div class="section" id="python-if">
<h2>16.1. Python 关键字： <tt class="docutils literal">if（如果）</tt><a class="headerlink" href="#python-if" title="Permalink to this headline">¶</a></h2>
<span class="target" id="index-0"></span><span class="target" id="index-1"></span><div class="topic" id="index-2">
<p class="topic-title first">这样做！</p>
<p>选择一个适当的世界（也许可以用 <strong>Alone（空白）</strong> ），然后让乐跑执行下面的程序。</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">move</span><span class="p">()</span>

<span class="k">if</span> <span class="bp">False</span><span class="p">:</span>
    <span class="n">turn_left</span><span class="p">()</span>
</pre></div>
</div>
<p><tt class="docutils literal">True（是）</tt> 和 <tt class="docutils literal">False（否）</tt> 也是 Python 关键字。你可以试试交换它们的位置，然后再运行一遍程序，看看会发生什么。</p>
</div>
<div class="section" id="if">
<h2>16.2. <tt class="docutils literal">if</tt> 语句<a class="headerlink" href="#if" title="Permalink to this headline">¶</a></h2>
<p>所谓的 <tt class="docutils literal">if</tt> <strong>语句</strong> 后面所跟随的模式和 <tt class="docutils literal">function（函数）</tt> 类似：:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">some_name</span><span class="p">():</span>
    <span class="c1"># 代码块</span>

<span class="k">if</span> <span class="n">some_condition</span><span class="p">:</span>
    <span class="c1"># 代码块</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h2>16.3. 怎样理解 <tt class="docutils literal">if</tt> 语句<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>在介绍函数的时候，我们解释了可以把 <strong>引用</strong> 函数理解为，相当于把该函数所定义的代码块插入到被引用的位置。因此，</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">move</span><span class="p">()</span>
<span class="n">turn_right</span><span class="p">()</span>    <span class="c1"># 引用函数</span>
<span class="n">move</span><span class="p">()</span>
</pre></div>
</div>
<p>等价于</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">move</span><span class="p">()</span>
<span class="c1"># 开始和 turn_right() 里面的一样的代码块</span>
<span class="n">turn_left</span><span class="p">()</span>
<span class="n">turn_left</span><span class="p">()</span>
<span class="n">turn_left</span><span class="p">()</span>
<span class="c1"># 代码块结束</span>
<span class="n">move</span><span class="p">()</span>
</pre></div>
</div>
<p>对于 <tt class="docutils literal">if</tt> 语句也可以进行类似的理解，只是增加（或者甚至是 <strong>删除</strong> ！）了 <em>执行条件</em> 。因此，</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">move</span><span class="p">()</span>
<span class="k">if</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">turn_left</span><span class="p">()</span>
    <span class="n">turn_left</span><span class="p">()</span>
<span class="n">move</span><span class="p">()</span>
</pre></div>
</div>
<p>等价于</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">move</span><span class="p">()</span>
<span class="n">turn_left</span><span class="p">()</span>
<span class="n">turn_left</span><span class="p">()</span>
<span class="n">move</span><span class="p">()</span>
</pre></div>
</div>
<p>而</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">move</span><span class="p">()</span>
<span class="k">if</span> <span class="bp">False</span><span class="p">:</span>
    <span class="n">turn_left</span><span class="p">()</span>
    <span class="n">turn_left</span><span class="p">()</span>
<span class="n">move</span><span class="p">()</span>
</pre></div>
</div>
<p>等价于</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">move</span><span class="p">()</span>
<span class="n">move</span><span class="p">()</span>
</pre></div>
</div>
<p>Note that thinking of it this way does not mean that such a deletion
would be done permanently: if, somehow, our program <em>looped back</em> and
repeated this part of the code again, the <tt class="docutils literal">if</tt> statement would be
reevaluated each time to decide whether or not to execute the lines of
code inside the code block.</p>
<p>We can represent the above using a flowchart:</p>
<div class="figure align-center">
<img alt="../_images/if.jpg" src="../_images/if.jpg" />
</div>
</div>
<div class="section" id="more-useful-that-you-might-think">
<h2>16.4. More useful that you might think…<a class="headerlink" href="#more-useful-that-you-might-think" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The general term used to describe a function that gives a result
equivalent to <tt class="docutils literal">True</tt> or <tt class="docutils literal">False</tt> in an <tt class="docutils literal">if</tt> statement is <strong>condition</strong>:</p>
<div class="last highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">condition</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
</div>
<p id="index-3">Having to specify <tt class="docutils literal">True</tt> or <tt class="docutils literal">False</tt> does not help Reeborg decide on
its own. However, there are special functions that Reeborg recognizes
that allow to decide things for himself. The first of these is
<tt class="docutils literal">object_here()</tt> which tells Reeborg that there is at least one object at
the grid position where he is located. For example, if we want to ask
Reeborg to collect tokens, one part of the code could be:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">object_here</span><span class="p">():</span>
    <span class="n">take</span><span class="p">()</span>
</pre></div>
</div>
<p>Have a look at worlds <strong>Tokens&nbsp;1</strong> and <strong>Tokens&nbsp;2</strong>. In both cases, and assuming
that Reeborg moves forward in a straight line, when he finds a token,
all he as to do is:</p>
<ol class="arabic simple">
<li>take it</li>
<li>move to the next grid</li>
<li>put the token down</li>
<li>move one more step</li>
<li>and he is <tt class="docutils literal">done()</tt></li>
</ol>
<p>where I have introduced a new command that Reeborg understands:
<tt class="docutils literal">done()</tt>. Actually, you should think of this command as Reeborg saying
it himself and declaring that he has finished.</p>
<p>Let’s write the outline of a program that will work in both worlds
<strong>Tokens&nbsp;1</strong> and <strong>Tokens&nbsp;2</strong>:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">move_until_done</span><span class="p">():</span>
    <span class="n">move</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">object_here</span><span class="p">():</span>
        <span class="c1"># something</span>
        <span class="c1"># something else</span>
        <span class="c1"># something else again</span>
        <span class="c1"># yet one more</span>
        <span class="n">done</span><span class="p">()</span>

<span class="n">repeat</span> <span class="mi">42</span><span class="p">:</span>
    <span class="n">move_until_done</span><span class="p">()</span>
</pre></div>
</div>
<p>Why 42? … well, I just want to be sure that Reeborg will take enough
steps no matter what world he is in. So far, all the worlds are small
enough that this should be fine. I agree, it does not seem very smart
… We’ll see how to fix that later.</p>
<div class="topic">
<p class="topic-title first">Try it!</p>
<p>Copy the above in the Code editor, filling in the missing
commands, and test your program on both worlds <strong>Tokens&nbsp;1</strong> and <strong>Tokens&nbsp;2</strong>.</p>
</div>
<div class="admonition-for-educators admonition">
<p class="first admonition-title">For educators</p>
<p>The function <tt class="docutils literal">object_here()</tt> returns a list of object types (as strings)
found at a given location.  For example, if there are stars and tokens
at the same location, <tt class="docutils literal">object_here()</tt> could return <tt class="docutils literal">[&quot;star&quot;, &quot;token&quot;]</tt>
or <tt class="docutils literal">[&quot;token&quot;, &quot;star&quot;]</tt>. If no object is present, an empty list is
returned.  As you likely already know, Python treats an empty list as
being equivalent to <tt class="docutils literal">False</tt> in an <tt class="docutils literal">if</tt> statement, and a non-empty
list as equivalent to <tt class="docutils literal">True</tt>.</p>
<p>If many objects could potentially be found in a given world, and we
are interested in only one object type, we can specify it as a function
argument:</p>
<div class="highlight-py3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">object_here</span><span class="p">(</span><span class="s2">&quot;token&quot;</span><span class="p">):</span>
    <span class="n">take</span><span class="p">(</span><span class="s2">&quot;token&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="last"><tt class="docutils literal"><span class="pre">object_here(&quot;token&quot;)</span></tt> will either return an empty list or the list
<tt class="docutils literal">[&quot;token&quot;]</tt>.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>  
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
             <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
             <a href="at_goal.html" title="17. Finding the right spot"
             >next</a> |</li>
        <li class="right" >
             <a href="summary2.html" title="15. 小结"
             >previous</a> |</li>
        <li><a class="logo" href="/index_en.html" class="fake_button">
              <img class="logo"  src="../_static/robot_e.png" alt="Logo"/>
              <span class="logo">Reeborg's World</span>
            </a></li>
        <li><a href="../index.html">和乐跑一起学 Python</a></li>
          <li> &raquo;<a href="index.html" >基础教程</a></li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright
          <a href="mailto:andre.roberge@gmail.com">André Roberge </a>
        
       - Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  <script>
  $(document).ready(function() {
      $('.hint').children().hide();
      $('.hint p.admonition-title').show().css('cursor', 'pointer');
      $('.hint p.admonition-title').click( function() {$(this).siblings().show().css('cursor', 'auto');})
      $("a[href^='http']").attr('target','_blank');
  });
  </script>
  </body>
</html>